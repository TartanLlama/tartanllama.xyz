---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

export interface Props {
  lightSrc: ImageMetadata | string;
  darkSrc: ImageMetadata | string;
  alt: string;
  class?: string;
  width?: number;
  height?: number;
}

const {
  lightSrc,
  darkSrc,
  alt,
  class: className = "",
  width,
  height,
} = Astro.props;

const buildImageProps = (additionalClass: string) => {
  const props: any = {
    alt,
    class: `${additionalClass} border-0 ${className}`,
  };
  
  if (width !== undefined) props.width = width;
  if (height !== undefined) props.height = height;
  
  return props;
};
---

<Image
  src={lightSrc}
  {...buildImageProps("block dark:hidden")}
/>
<Image
  src={darkSrc}
  {...buildImageProps("hidden dark:block")}
/>
